graph TD
A[开始] --> B[解析命令行参数]
B --> C[创建输出目录]
C --> D[获取策略函数]
D --> E[读取输入文件]
E --> F[初始化变量和数据结构]
F --> G{遍历输入文件的每一行}
G --> H[获取文档和相似文档，以及它们的ID和得分]
H --> I[根据策略函数选择一个ID]
I --> J[根据得分将ID分组]
J --> K{选中的ID是否已被过滤}
K -- 是 --> L[跳过这一行]
K -- 否 --> M[将选中的ID添加到保留ID的集合中，将相似ID添加到过滤ID的字典中]
M --> G
L --> G
G --> N[关闭进度条]
N --> O[将过滤的ID写入到CSV文件和文本文件中]
O --> P[结束]